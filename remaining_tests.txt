============================= test session starts ==============================
platform linux -- Python 3.13.2, pytest-8.4.1, pluggy-1.6.0
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/omar/Documents/NexCompli
configfile: pytest.ini
testpaths: tests
plugins: timeout-2.4.0, asyncio-1.0.0, cov-6.2.1, anyio-4.9.0, dotenv-0.5.2, mock-3.14.1, xdist-3.7.0, parallel-0.1.1, benchmark-5.1.0
timeout: 60.0s
timeout method: thread
timeout func_only: False
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 315 items / 1 deselected / 314 selected

tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_gdpr_basic_questions_accuracy PASSED [  0%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_gdpr_intermediate_questions_accuracy PASSED [  0%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_gdpr_advanced_questions_accuracy PASSED [  0%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_source_citation_accuracy PASSED [  1%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_response_completeness PASSED [  1%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_framework_specific_terminology PASSED [  1%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_consistency_across_similar_questions PASSED [  2%]
tests/ai/test_compliance_accuracy.py::TestComplianceAccuracy::test_regulatory_compliance_alignment PASSED [  2%]
tests/ai/test_compliance_accuracy.py::TestFrameworkCoverage::test_framework_identification_accuracy PASSED [  2%]
tests/ai/test_compliance_accuracy.py::TestFrameworkCoverage::test_cross_framework_guidance PASSED [  3%]
tests/e2e/test_user_onboarding_flow.py::TestUserOnboardingFlow::test_complete_user_onboarding_workflow PASSED [  3%]
tests/e2e/test_user_onboarding_flow.py::TestUserOnboardingFlow::test_user_onboarding_with_assessment_restart PASSED [  3%]
tests/e2e/test_user_onboarding_flow.py::TestUserOnboardingFlow::test_user_onboarding_with_minimal_data PASSED [  4%]
tests/e2e/test_user_onboarding_flow.py::TestUserOnboardingFlow::test_user_onboarding_error_recovery PASSED [  4%]
tests/e2e/test_user_onboarding_flow.py::TestOnboardingIntegration::test_onboarding_triggers_background_tasks PASSED [  4%]
tests/e2e/test_user_onboarding_flow.py::TestOnboardingIntegration::test_onboarding_creates_audit_trail PASSED [  5%]
tests/e2e/test_user_onboarding_flow.py::TestOnboardingIntegration::test_onboarding_sets_user_preferences PASSED [  5%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_create_evidence_item_success PASSED [  5%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_create_evidence_item_validation_error PASSED [  6%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_create_evidence_item_unauthenticated PASSED [  6%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_items_success PASSED [  6%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_items_empty PASSED [  7%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_items_with_filtering PASSED [  7%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_item_by_id_success PASSED [  7%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_item_by_id_not_found PASSED [  7%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_item_unauthorized_access PASSED [  8%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_update_evidence_item_success PASSED [  8%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_update_evidence_item_partial PASSED [  8%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_delete_evidence_item_success PASSED [  9%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_delete_evidence_item_unauthorized PASSED [  9%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_bulk_update_evidence_status PASSED [  9%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_get_evidence_statistics FAILED [ 10%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceEndpoints::test_search_evidence_items PASSED [ 10%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceValidationEndpoints::test_validate_evidence_quality PASSED [ 10%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceValidationEndpoints::test_identify_evidence_requirements PASSED [ 11%]
tests/integration/api/test_evidence_endpoints.py::TestEvidenceValidationEndpoints::test_configure_evidence_automation PASSED [ 11%]
tests/integration/api/test_evidence_endpoints.py::TestEvidencePaginationAndSorting::test_evidence_pagination +++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Captured stdout ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
{"timestamp": 1750481832.8757076, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481837.9366858, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481837.9384654, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481842.936124, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481842.9377449, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481848.0070765, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481848.0088775, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481853.084317, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481853.0863078, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481858.1896574, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481858.1914506, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481863.274436, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481863.2763605, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481868.3500085, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481868.3517654, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481873.4544435, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481873.4563644, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481878.5025406, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481878.5044234, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481883.694514, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481883.6965342, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
{"timestamp": 1750481888.7714407, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence/ \"HTTP/1.1 201 Created\"", "request_id": null, "user_id": null}
{"timestamp": 1750481888.7739944, "level": "INFO", "name": "httpx", "message": "HTTP Request: POST http://testserver/api/evidence \"HTTP/1.1 307 Temporary Redirect\"", "request_id": null, "user_id": null}
~~~~~~~~~~~~~~~~~~~~~ Stack of asyncio_0 (133991973779136) ~~~~~~~~~~~~~~~~~~~~~
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "/home/omar/miniconda3/lib/python3.13/concurrent/futures/thread.py", line 90, in _worker
    work_item = work_queue.get(block=True)
~~~~~~~~~ Stack of Thread-184 (run_blocking_portal) (133992053470912) ~~~~~~~~~~
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/anyio/from_thread.py", line 481, in run_blocking_portal
    _eventloop.run(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/anyio/_core/_eventloop.py", line 74, in run
    return async_backend.run(func, args, {}, backend_options)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2310, in run
    return runner.run(wrapper())
  File "/home/omar/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "/home/omar/miniconda3/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
  File "/home/omar/miniconda3/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
  File "/home/omar/miniconda3/lib/python3.13/asyncio/base_events.py", line 2002, in _run_once
    event_list = self._selector.select(timeout)
  File "/home/omar/miniconda3/lib/python3.13/selectors.py", line 452, in select
    fd_event_list = self._selector.poll(timeout, max_ev)
~~~~~~~~~~~~~~~~~~~~~ Stack of asyncio_0 (133992107996864) ~~~~~~~~~~~~~~~~~~~~~
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "/home/omar/miniconda3/lib/python3.13/concurrent/futures/thread.py", line 90, in _worker
    work_item = work_queue.get(block=True)
~~~~~~~~~~~~~~~~~~~~ Stack of MainThread (133992333571584) ~~~~~~~~~~~~~~~~~~~~~
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pytest/__main__.py", line 9, in <module>
    raise SystemExit(pytest.console_main())
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/config/__init__.py", line 201, in console_main
    code = main()
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/config/__init__.py", line 175, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/main.py", line 336, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/main.py", line 289, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/main.py", line 343, in _main
    config.hook.pytest_runtestloop(session=session)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/main.py", line 367, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 117, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 136, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 245, in call_and_report
    call = CallInfo.from_call(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 344, in from_call
    result: TResult | None = func()
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 246, in <lambda>
    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/runner.py", line 178, in pytest_runtest_call
    item.runtest()
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/python.py", line 1671, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/_pytest/python.py", line 157, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/home/omar/Documents/NexCompli/tests/integration/api/test_evidence_endpoints.py", line 523, in test_evidence_pagination
    response = client.post(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/starlette/testclient.py", line 538, in post
    return super().post(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 1144, in post
    return self.request(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/starlette/testclient.py", line 437, in request
    return super().request(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/starlette/testclient.py", line 337, in handle_request
    portal.call(self.app, scope, receive, send)
  File "/home/omar/Documents/NexCompli/venv/lib/python3.13/site-packages/anyio/from_thread.py", line 290, in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
  File "/home/omar/miniconda3/lib/python3.13/concurrent/futures/_base.py", line 451, in result
    self._condition.wait(timeout)
  File "/home/omar/miniconda3/lib/python3.13/threading.py", line 359, in wait
    waiter.acquire()
+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++
